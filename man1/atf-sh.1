.\" Copyright (c) 2010 The NetBSD Foundation, Inc.
.\" All rights reserved.
.\"
.\" Распространение и использование в исходной и двоичной формах, с или без
.\" изменения разрешены при соблюдении следующих условий
.\" которые встретились:
.\" 1. При повторном распространении исходного кода необходимо сохранять вышеуказанные авторские права.
.\" обратите внимание на этот список условий и следующий отказ от ответственности.
.\" 2. При распространении в двоичной форме необходимо воспроизводить вышеуказанные авторские права.
.\" обратите внимание, этот список условий и следующий отказ от ответственности в
.\" документация и/или другие материалы, прилагаемые к дистрибутиву.
.\"
.» ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЕНО NETBSD FOUNDATION, INC. И
.» УЧАСТНИКИ «КАК ЕСТЬ» И ЛЮБЫЕ ЯВНЫЕ ИЛИ ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ,
.» ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ
.» ТОВАРНАЯ ПРИГОДНОСТЬ И ПРИГОДНОСТЬ ДЛЯ ОПРЕДЕЛЕННОЙ ЦЕЛИ ОТКАЗЫВАЕТСЯ.
.» НИ ПРИ КАКИХ ОБСТОЯТЕЛЬСТВАХ ФОНД ИЛИ ВКЛАДЧИКИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ЗА ЛЮБЫЕ
.» ПРЯМОЙ, КОСВЕННЫЙ, СЛУЧАЙНЫЙ, ОСОБЫЙ, ПРИМЕРНЫЙ ИЛИ КОСВЕННЫЙ
.» УБЫТКИ (ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, ПРИОБРЕТЕНИЕ ЗАМЕНЫ
.» ТОВАРОВ ИЛИ УСЛУГ; ПОТЕРИ ИСПОЛЬЗОВАНИЯ, ДАННЫХ ИЛИ ПРИБЫЛИ; ИЛИ БИЗНЕСА
.\" ПЕРЕРЫВ) ОДНАКО ВЫЗВАН И ПО ЛЮБОЙ ТЕОРИИ ОТВЕТСТВЕННОСТИ, БОЛЬШЕ
.» ПО КОНТРАКТУ, СТРОГОВОЙ ОТВЕТСТВЕННОСТИ ИЛИ ПРАВИЛАМ (ВКЛЮЧАЯ НЕБРЕЖНОСТЬ ИЛИ
.\" ИНАЧЕ), ВОЗНИКАЮЩИХ ЛЮБЫМ СПОСОБОМ ИСПОЛЬЗОВАНИЯ ЭТОГО ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ, ДАЖЕ
.» ЕСЛИ ПРЕДУПРЕЖДЕНО О ВОЗМОЖНОСТИ ТАКОГО УЩЕРБА.
.Dd 6 марта 2017 г.
.Dt ATF-SH 1
.Os
.Sh NAME
.Nm atf-sh
.Nd interpreter for shell-based test programs
.Sh SYNOPSIS
.Nm
.Op Fl s Ar shell
.Ar script
.Sh DESCRIPTION
.Nm
это интерпретатор, который запускает тестовую программу, указанную в
.Ar script
после загрузки
.Xr atf-sh 3
библиотека.
.Pp
.Nm
это не настоящий интерпретатор: это просто оболочка
общесистемная оболочка, определяемая
.Va ATF_SHELL .
.Nm
запускает интерпретатор, загружает
.Xr atf-sh 3
библиотеку, а затем запускает скрипт.
Вы должны рассмотреть
.Nm atf-sh
быть оболочкой POSIX по умолчанию и, следовательно, не должен использовать какие-либо нестандартные
расширения.
.Pp
Доступны следующие варианты:
.Bl -tag -width XsXshellXXX
.It Fl s Ar shell
Указывает оболочку, которая будет использоваться вместо значения, предоставленного
.Va ATF_SHELL .
.El
.Sh ENVIRONMENT
.Bl -tag -width ATFXLIBEXECDIRXX -compact
.It Va ATF_LIBEXECDIR
Переопределяет встроенный каталог, в котором
.Nm
расположен.
Не следует переопределять, кроме как в целях тестирования.
.It Va ATF_PKGDATADIR
Переопределяет встроенный каталог, в котором
.Pa libatf-sh.subr
расположен.
Не следует переопределять, кроме как в целях тестирования.
.It Va ATF_SHELL
Путь к системной оболочке, которая будет использоваться в создаваемых скриптах.
Сценарии не должны полагаться на то, что эта переменная установлена для выбора определенного
устный переводчик.
.It Va ATF_SHELL
Путь к системной оболочке, которая будет использоваться в создаваемых скриптах.
.El
.Sh EXAMPLES
Скрипты, использующие
.Xr atf-sh 3
должно начинаться с:
.Bd -literal -offset indent
#! /usr/bin/env atf-sh
.Ed
.Pp
Альтернативно, если вы хотите явно выбрать интерпретатор оболочки, вы не можете
полагаться на
.Xr env 1
найти
.Nm .
Вместо этого вам придется жестко запрограммировать путь к
.Nm
в скрипте, а затем используйте
.Fl s
вариант впоследствии как
Em single parameter :
.Bd -literal -offset indent
#! /path/to/bin/atf-sh -s/bin/bash
.Ed
.Sh SEE ALSO
.Xr atf-sh 3
