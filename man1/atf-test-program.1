.\" Copyright (c) 2007 The NetBSD Foundation, Inc.
.\" All rights reserved.
.\"
.\" Распространение и использование в исходной и двоичной формах, с или без
.\" изменения разрешены при соблюдении следующих условий
.\" которые встретились:
.\" 1. При повторном распространении исходного кода необходимо сохранять вышеуказанные авторские права.
.\" обратите внимание на этот список условий и следующий отказ от ответственности.
.\" 2. При распространении в двоичной форме необходимо воспроизводить вышеуказанные авторские права.
.\" обратите внимание, этот список условий и следующий отказ от ответственности в
.\" документация и/или другие материалы, прилагаемые к дистрибутиву.
.\"
.» ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЕНО NETBSD FOUNDATION, INC. И
.» УЧАСТНИКИ «КАК ЕСТЬ» И ЛЮБЫЕ ЯВНЫЕ ИЛИ ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ,
.» ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ
.» ТОВАРНАЯ ПРИГОДНОСТЬ И ПРИГОДНОСТЬ ДЛЯ ОПРЕДЕЛЕННОЙ ЦЕЛИ ОТКАЗЫВАЕТСЯ.
.» НИ ПРИ КАКИХ ОБСТОЯТЕЛЬСТВАХ ФОНД ИЛИ ВКЛАДЧИКИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ЗА ЛЮБЫЕ
.» ПРЯМОЙ, КОСВЕННЫЙ, СЛУЧАЙНЫЙ, ОСОБЫЙ, ПРИМЕРНЫЙ ИЛИ КОСВЕННЫЙ
.» УБЫТКИ (ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, ПРИОБРЕТЕНИЕ ЗАМЕНЫ
.» ТОВАРОВ ИЛИ УСЛУГ; ПОТЕРИ ИСПОЛЬЗОВАНИЯ, ДАННЫХ ИЛИ ПРИБЫЛИ; ИЛИ БИЗНЕСА
.\" ПЕРЕРЫВ) ОДНАКО ВЫЗВАН И ПО ЛЮБОЙ ТЕОРИИ ОТВЕТСТВЕННОСТИ, БОЛЬШЕ
.» ПО КОНТРАКТУ, СТРОГОВОЙ ОТВЕТСТВЕННОСТИ ИЛИ ПРАВИЛАМ (ВКЛЮЧАЯ НЕБРЕЖНОСТЬ ИЛИ
.\" ИНАЧЕ), ВОЗНИКАЮЩИХ ЛЮБЫМ СПОСОБОМ ИСПОЛЬЗОВАНИЯ ЭТОГО ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ, ДАЖЕ
.» ЕСЛИ ПРЕДУПРЕЖДЕНО О ВОЗМОЖНОСТИ ТАКОГО УЩЕРБА.
.Dd 2 марта 2014 г.
.Dt ATF-TEST-PROGRAM 1
.Os
.Sh NAME
.Nm atf-test-program
.Nd common interface to ATF test programs
.Sh SYNOPSIS
.Nm
.Op Fl r Ar resfile
.Op Fl s Ar srcdir
.Op Fl v Ar var1=value1 Op .. Fl v Ar varN=valueN
.Ar test_case
.Nm
.Fl l
.Sh DESCRIPTION
Все тестовые программы, написанные с использованием библиотек ATF, имеют общего пользователя.
интерфейс, который описан на этой странице руководства.
.Em NOTE: There is no binary known as
.Nm ;
.Em what is described in this manual page is the command-line interface
.Em exposed by the atf-c, atf-c++ and atf-sh bindings .
.Pp
В первой форме обзора тестовая программа выполнит предоставленную
тестовый пример и выведите его результаты на стандартный вывод, если иное
заявил
.Fl r
флаг.
При желании имя тестового примера может быть дополнено суффиксом
.Sq :cleanup ,
в этом случае будет выполнена процедура очистки тестового примера
вместо тела тестового примера; видеть
.Xr atf-test-case 4 .
Обратите внимание, что тестовый пример
.Em executed without isolation ,
поэтому он может и, вероятно, будет создавать и изменять файлы в текущем каталоге.
Для выполнения тестовых случаев в виде контроллера вам понадобится механизм времени выполнения.
который понимает интерфейс ATF.
Рекомендуемый механизм выполнения:
.Xr kyua 1 .
Тестовые примеры следует выполнять только вручную в целях отладки.
.Pp
Во второй форме обзора тестовая программа перечислит все доступные
тестовые примеры вместе с их свойствами метаданных в формате, который
машина разборчивая.
Этот список обрабатывается
.Xr kyua 1
знать, как выполнять тестовые примеры данной тестовой программы.
.Pp
Доступны следующие варианты:
.Bl -tag -width XvXvarXvalueXX
.It Fl l
Перечисляет доступные тестовые примеры вместе с кратким описанием каждого из них.
.It Fl r Ar resfile
Указывает файл, который получит результат тестового примера.
Если не указано, тестовый пример выводит свои результаты на стандартный вывод.
Если результат тестового примера необходимо проанализировать другой программой, вы должны
используйте эту опцию, чтобы перенаправить результат в файл, а затем прочитать полученный результат
файл из другой программы.
Примечание:
.Em не пытайтесь обрабатывать стандартный вывод тестового примера
потому что ваша программа может сломаться в будущем.
.It Fl s Ar srcdir
Путь к каталогу, в котором находится тестовая программа.
Это необходимо во всех случаях, кроме случаев выполнения тестовой программы.
из текущего каталога.
Тестовая программа будет использовать этот путь для поиска любых вспомогательных файлов данных или
коммунальные услуги.
.It Fl v Ar var=value
Устанавливает переменную конфигурации
.Ar var
к значению
.Ar value .
.El
.Sh СМОТРИТЕ ТАКЖЕ
.Xr kyua 1
